<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Free online image compression tool. Reduce image file size while maintaining quality. Supports JPG, PNG, and WebP formats.">
    <meta name="keywords" content="image compressor, optimize images, reduce image size, online image tool, JPG compression, PNG optimization">
    <meta name="author" content="ImageCompressorPro">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="Free Online Image Compression Tool">
    <meta property="og:description" content="Compress and optimize your images online for free. Reduce file size without losing quality.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yourwebsite.com">
    <link rel="canonical" href="https://yourwebsite.com">
    <title>Free Online Image Compression Tool | Optimize JPG, PNG, WebP</title>
    <style>
        :root {
            --primary-color: #4285f4;
            --secondary-color: #34a853;
            --accent-color: #ea4335;
            --light-gray: #f5f5f5;
            --dark-gray: #333;
            --text-color: #444;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: #f9f9f9;
            padding: 0;
            margin: 0;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        header {
            background-color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 20px 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary-color);
            text-decoration: none;
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav ul li {
            margin-left: 20px;
        }
        
        nav ul li a {
            text-decoration: none;
            color: var(--dark-gray);
            font-weight: 500;
            transition: color 0.3s;
        }
        
        nav ul li a:hover {
            color: var(--primary-color);
        }
        
        .hero {
            text-align: center;
            padding: 60px 0 40px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }
        
        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: var(--dark-gray);
        }
        
        .hero p {
            font-size: 1.1rem;
            max-width: 700px;
            margin: 0 auto 30px;
            color: var(--text-color);
        }
        
        .compression-tool {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            padding: 30px;
            margin: 0 auto 40px;
            max-width: 800px;
        }
        
        .tool-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .tool-header h2 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        .drop-area {
            border: 2px dashed #ccc;
            border-radius: 8px;
            padding: 40px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 20px;
            position: relative;
        }
        
        .drop-area:hover {
            border-color: var(--primary-color);
            background-color: rgba(66, 133, 244, 0.05);
        }
        
        .drop-area.highlight {
            border-color: var(--primary-color);
            background-color: rgba(66, 133, 244, 0.1);
        }
        
        #file-input {
            display: none;
        }
        
        .file-label {
            display: block;
            font-size: 1.1rem;
            color: var(--dark-gray);
            margin-bottom: 15px;
        }
        
        .browse-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s;
        }
        
        .browse-btn:hover {
            background-color: #3367d6;
        }
        
        .controls {
            margin: 25px 0;
        }
        
        .control-group {
            margin-bottom: 20px;
        }
        
        .control-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .slider-container {
            display: flex;
            align-items: center;
        }
        
        .slider-container span {
            margin-left: 10px;
            font-weight: bold;
            min-width: 40px;
            text-align: right;
        }
        
        .quality-slider {
            flex-grow: 1;
            height: 8px;
            -webkit-appearance: none;
            appearance: none;
            background: #ddd;
            outline: none;
            border-radius: 4px;
        }
        
        .quality-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--primary-color);
            cursor: pointer;
        }
        
        .quality-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--primary-color);
            cursor: pointer;
        }
        
        .format-options {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .format-option {
            display: flex;
            align-items: center;
        }
        
        .format-option input {
            margin-right: 8px;
        }
        
        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
        }
        
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #3367d6;
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background-color: #f1f1f1;
            color: var(--dark-gray);
        }
        
        .btn-secondary:hover {
            background-color: #e0e0e0;
        }
        
        .results {
            display: none;
            margin-top: 30px;
            padding: 20px;
            background-color: var(--light-gray);
            border-radius: 8px;
        }
        
        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .result-header h3 {
            color: var(--primary-color);
        }
        
        .comparison {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .image-box {
            flex: 1;
            min-width: 250px;
            text-align: center;
        }
        
        .image-box img {
            max-width: 100%;
            height: auto;
            border-radius: 5px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }
        
        .image-info {
            margin-top: 10px;
            font-size: 0.9rem;
        }
        
        .download-btn {
            display: inline-block;
            margin-top: 15px;
            background-color: var(--secondary-color);
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            text-decoration: none;
            font-weight: 500;
            transition: background-color 0.3s;
        }
        
        .download-btn:hover {
            background-color: #2d9249;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
        }
        
        .stat-item {
            text-align: center;
            padding: 15px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            flex: 1;
            min-width: 120px;
        }
        
        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: var(--text-color);
        }
        
        .ad-container {
            margin: 30px auto;
            text-align: center;
            background-color: var(--light-gray);
            padding: 20px;
            border-radius: 8px;
        }
        
        .ad-label {
            font-size: 0.8rem;
            color: #777;
            margin-bottom: 10px;
            text-transform: uppercase;
        }
        
        .features {
            padding: 60px 0;
            background-color: white;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .section-title h2 {
            font-size: 2rem;
            color: var(--dark-gray);
            margin-bottom: 15px;
        }
        
        .section-title p {
            max-width: 700px;
            margin: 0 auto;
            color: var(--text-color);
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }
        
        .feature-card {
            background-color: var(--light-gray);
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .feature-icon {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 20px;
        }
        
        .feature-card h3 {
            margin-bottom: 15px;
            color: var(--dark-gray);
        }
        
        .faq {
            padding: 60px 0;
            background-color: #f9f9f9;
        }
        
        .faq-item {
            margin-bottom: 20px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            overflow: hidden;
        }
        
        .faq-question {
            padding: 20px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: var(--light-gray);
        }
        
        .faq-answer {
            padding: 0 20px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s, padding 0.3s;
        }
        
        .faq-item.active .faq-answer {
            padding: 20px;
            max-height: 500px;
        }
        
        footer {
            background-color: var(--dark-gray);
            color: white;
            padding: 40px 0 20px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .footer-column h3 {
            margin-bottom: 20px;
            font-size: 1.2rem;
        }
        
        .footer-column ul {
            list-style: none;
        }
        
        .footer-column ul li {
            margin-bottom: 10px;
        }
        
        .footer-column ul li a {
            color: #ccc;
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-column ul li a:hover {
            color: white;
        }
        
        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #444;
            font-size: 0.9rem;
            color: #aaa;
        }
        
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
            }
            
            nav ul {
                margin-top: 15px;
            }
            
            nav ul li {
                margin-left: 15px;
                margin-right: 15px;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .comparison {
                flex-direction: column;
            }
            
            .action-buttons {
                flex-direction: column;
                gap: 10px;
            }
            
            .btn {
                width: 100%;
            }
        }
        
        @media (max-width: 480px) {
            .drop-area {
                padding: 30px 15px;
            }
            
            .format-options {
                flex-direction: column;
                gap: 10px;
            }
            
            .compression-tool {
                padding: 20px 15px;
            }
        }
        
        /* Loading spinner */
        .spinner {
            display: none;
            margin: 20px auto;
            width: 50px;
            height: 50px;
            border: 5px solid rgba(66, 133, 244, 0.2);
            border-radius: 50%;
            border-top-color: var(--primary-color);
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <header>
        <div class="container header-content">
            <a href="#" class="logo">ImageCompressorPro</a>
            <nav>
                <ul>
                    <li><a href="#features">Features</a></li>
                    <li><a href="#how-it-works">How It Works</a></li>
                    <li><a href="#faq">FAQ</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <h1>Compress Images Online for Free</h1>
            <p>Reduce image file size without losing quality. Optimize JPG, PNG, and WebP images for faster websites and smaller storage.</p>
            
            <!-- Ad Container - Top Banner -->
            <div class="ad-container">
                <div class="ad-label">Advertisement</div>
                <!-- Replace with your Google AdSense code -->
                <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-YOUR_PUBLISHER_ID"
                     crossorigin="anonymous"></script>
                <!-- ImageCompressor_TopBanner -->
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-YOUR_PUBLISHER_ID"
                     data-ad-slot="YOUR_AD_SLOT_ID"
                     data-ad-format="auto"
                     data-full-width-responsive="true"></ins>
                <script>
                     (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
        </div>
    </section>

    <section class="container">
        <div class="compression-tool">
            <div class="tool-header">
                <h2>Image Compression Tool</h2>
                <p>Upload your image and choose compression settings</p>
            </div>
            
            <div class="drop-area" id="drop-area">
                <input type="file" id="file-input" accept="image/*">
                <label for="file-input" class="file-label">Drag & drop your image here or</label>
                <button class="browse-btn" id="browse-btn">Browse Files</button>
                <p id="file-name" style="margin-top: 15px; display: none;"></p>
            </div>
            
            <div class="controls">
                <div class="control-group">
                    <label for="quality-slider">Compression Level: <span id="quality-value">70</span>%</label>
                    <div class="slider-container">
                        <input type="range" id="quality-slider" class="quality-slider" min="10" max="95" value="70">
                        <span id="quality-percent">70%</span>
                    </div>
                    <small>Higher values mean better quality but larger file size</small>
                </div>
                
                <div class="control-group">
                    <label>Output Format:</label>
                    <div class="format-options">
                        <label class="format-option">
                            <input type="radio" name="format" value="original" checked> Original
                        </label>
                        <label class="format-option">
                            <input type="radio" name="format" value="jpeg"> JPEG
                        </label>
                        <label class="format-option">
                            <input type="radio" name="format" value="png"> PNG
                        </label>
                        <label class="format-option">
                            <input type="radio" name="format" value="webp"> WebP
                        </label>
                    </div>
                </div>
            </div>
            
            <div class="action-buttons">
                <button id="compress-btn" class="btn btn-primary" disabled>Compress Image</button>
                <button id="reset-btn" class="btn btn-secondary" disabled>Reset</button>
            </div>
            
            <div class="spinner" id="spinner"></div>
            
            <div class="results" id="results">
                <div class="result-header">
                    <h3>Compression Results</h3>
                    <button id="close-results" class="btn btn-secondary">Close</button>
                </div>
                
                <div class="comparison">
                    <div class="image-box">
                        <img id="original-img" src="" alt="Original Image">
                        <div class="image-info">
                            <p>Original Image</p>
                            <p id="original-size">-</p>
                        </div>
                    </div>
                    <div class="image-box">
                        <img id="compressed-img" src="" alt="Compressed Image">
                        <div class="image-info">
                            <p>Compressed Image</p>
                            <p id="compressed-size">-</p>
                            <a href="#" id="download-btn" class="download-btn">Download</a>
                        </div>
                    </div>
                </div>
                
                <div class="stats">
                    <div class="stat-item">
                        <div class="stat-value" id="reduction-percent">-</div>
                        <div class="stat-label">Size Reduction</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="original-dimensions">-</div>
                        <div class="stat-label">Dimensions</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="compressed-dimensions">-</div>
                        <div class="stat-label">New Dimensions</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Ad Container - Middle Rectangle -->
        <div class="ad-container">
            <div class="ad-label">Advertisement</div>
            <!-- Replace with your Google AdSense code -->
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-YOUR_PUBLISHER_ID"
                 crossorigin="anonymous"></script>
            <!-- ImageCompressor_MiddleRectangle -->
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-YOUR_PUBLISHER_ID"
                 data-ad-slot="YOUR_AD_SLOT_ID"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
    </section>

    <section class="features" id="features">
        <div class="container">
            <div class="section-title">
                <h2>Why Use Our Image Compressor?</h2>
                <p>Our tool offers the best balance between quality and file size reduction</p>
            </div>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="feature-icon">⚡</div>
                    <h3>Fast Processing</h3>
                    <p>Compress images in seconds with our optimized algorithms. No waiting in queues.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🛡️</div>
                    <h3>Privacy Focused</h3>
                    <p>Your images are processed in the browser and never uploaded to our servers.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">📊</div>
                    <h3>Quality Control</h3>
                    <p>Adjust compression level to find the perfect balance for your needs.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🔄</div>
                    <h3>Multiple Formats</h3>
                    <p>Supports JPG, PNG, and WebP formats with optional conversion.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">📱</div>
                    <h3>Responsive Design</h3>
                    <p>Works perfectly on all devices from desktop to mobile.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">🆓</div>
                    <h3>Completely Free</h3>
                    <p>No watermarks, no registration, no hidden costs.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="faq" id="faq">
        <div class="container">
            <div class="section-title">
                <h2>Frequently Asked Questions</h2>
                <p>Find answers to common questions about our image compression tool</p>
            </div>
            
            <div class="faq-list">
                <div class="faq-item">
                    <div class="faq-question">
                        <span>What image formats can I compress?</span>
                        <span>+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Our tool supports JPEG, PNG, and WebP formats. You can compress these formats and optionally convert between them during the compression process.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Is there a limit to the image size I can compress?</span>
                        <span>+</span>
                    </div>
                    <div class="faq-answer">
                        <p>There's no strict limit, but very large images (above 10MB) may take longer to process depending on your device's capabilities. For best results, we recommend compressing images under 5MB.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Are my images stored on your servers?</span>
                        <span>+</span>
                    </div>
                    <div class="faq-answer">
                        <p>No, all processing happens directly in your browser. Your images never leave your device, ensuring complete privacy.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        <span>What's the difference between lossy and lossless compression?</span>
                        <span>+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Lossy compression reduces file size by permanently eliminating certain information (especially redundant information). Lossless compression reduces file size without any loss in quality, but the reduction is typically less significant than with lossy compression.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Can I compress multiple images at once?</span>
                        <span>+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Currently, our tool processes one image at a time for optimal performance and user experience. For batch processing, you can compress images one after another.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Ad Container - Bottom Banner -->
    <div class="container">
        <div class="ad-container">
            <div class="ad-label">Advertisement</div>
            <!-- Replace with your Google AdSense code -->
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-YOUR_PUBLISHER_ID"
                 crossorigin="anonymous"></script>
            <!-- ImageCompressor_BottomBanner -->
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-YOUR_PUBLISHER_ID"
                 data-ad-slot="YOUR_AD_SLOT_ID"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
    </div>

    <footer id="contact">
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>ImageCompressorPro</h3>
                    <p>The free online tool for optimizing and compressing your images without quality loss.</p>
                </div>
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="#">Home</a></li>
                        <li><a href="#features">Features</a></li>
                        <li><a href="#how-it-works">How It Works</a></li>
                        <li><a href="#faq">FAQ</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Resources</h3>
                    <ul>
                        <li><a href="#">Blog</a></li>
                        <li><a href="#">Image Optimization Guide</a></li>
                        <li><a href="#">Web Performance Tips</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Contact</h3>
                    <ul>
                        <li><a href="mailto:contact@imagecompressorpro.com">Email Us</a></li>
                        <li><a href="#">Twitter</a></li>
                        <li><a href="#">Facebook</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 ImageCompressorPro. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOM Elements
            const dropArea = document.getElementById('drop-area');
            const fileInput = document.getElementById('file-input');
            const browseBtn = document.getElementById('browse-btn');
            const fileName = document.getElementById('file-name');
            const compressBtn = document.getElementById('compress-btn');
            const resetBtn = document.getElementById('reset-btn');
            const qualitySlider = document.getElementById('quality-slider');
            const qualityPercent = document.getElementById('quality-percent');
            const resultsSection = document.getElementById('results');
            const originalImg = document.getElementById('original-img');
            const compressedImg = document.getElementById('compressed-img');
            const originalSize = document.getElementById('original-size');
            const compressedSize = document.getElementById('compressed-size');
            const downloadBtn = document.getElementById('download-btn');
            const reductionPercent = document.getElementById('reduction-percent');
            const originalDimensions = document.getElementById('original-dimensions');
            const compressedDimensions = document.getElementById('compressed-dimensions');
            const closeResults = document.getElementById('close-results');
            const spinner = document.getElementById('spinner');
            const faqItems = document.querySelectorAll('.faq-item');
            
            // Variables
            let selectedFile = null;
            let compressedImageData = null;
            
            // Event Listeners
            browseBtn.addEventListener('click', () => fileInput.click());
            
            fileInput.addEventListener('change', handleFileSelect);
            
            dropArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                dropArea.classList.add('highlight');
            });
            
            dropArea.addEventListener('dragleave', () => {
                dropArea.classList.remove('highlight');
            });
            
            dropArea.addEventListener('drop', (e) => {
                e.preventDefault();
                dropArea.classList.remove('highlight');
                
                if (e.dataTransfer.files.length) {
                    fileInput.files = e.dataTransfer.files;
                    handleFileSelect({ target: fileInput });
                }
            });
            
            qualitySlider.addEventListener('input', updateQualityValue);
            
            compressBtn.addEventListener('click', compressImage);
            
            resetBtn.addEventListener('click', resetTool);
            
            closeResults.addEventListener('click', () => {
                resultsSection.style.display = 'none';
            });
            
            faqItems.forEach(item => {
                const question = item.querySelector('.faq-question');
                question.addEventListener('click', () => {
                    item.classList.toggle('active');
                    const plus = question.querySelector('span:last-child');
                    plus.textContent = item.classList.contains('active') ? '−' : '+';
                });
            });
            
            // Functions
            function handleFileSelect(e) {
                const file = e.target.files[0];
                
                if (!file) return;
                
                if (!file.type.match('image.*')) {
                    alert('Please select an image file (JPEG, PNG, etc.)');
                    return;
                }
                
                selectedFile = file;
                fileName.textContent = file.name;
                fileName.style.display = 'block';
                compressBtn.disabled = false;
                resetBtn.disabled = false;
                
                // Display original image preview
                const reader = new FileReader();
                reader.onload = (e) => {
                    originalImg.src = e.target.result;
                    
                    // Get image dimensions
                    const img = new Image();
                    img.onload = function() {
                        originalDimensions.textContent = `${this.width} × ${this.height}`;
                    };
                    img.src = e.target.result;
                };
                reader.readAsDataURL(file);
            }
            
            function updateQualityValue() {
                const value = qualitySlider.value;
                qualityPercent.textContent = `${value}%`;
            }
            
            function compressImage() {
                if (!selectedFile) return;
                
                // Show loading spinner
                spinner.style.display = 'block';
                compressBtn.disabled = true;
                
                // Simulate compression delay (in a real app, this would be actual compression)
                setTimeout(() => {
                    // Get selected format
                    const format = document.querySelector('input[name="format"]:checked').value;
                    const quality = parseInt(qualitySlider.value) / 100;
                    
                    // In a real implementation, you would use canvas or a compression library here
                    // This is a simplified simulation
                    simulateCompression(selectedFile, quality, format)
                        .then(result => {
                            compressedImageData = result;
                            displayResults(result);
                        })
                        .catch(error => {
                            console.error('Compression error:', error);
                            alert('An error occurred during compression. Please try again.');
                        })
                        .finally(() => {
                            spinner.style.display = 'none';
                            compressBtn.disabled = false;
                        });
                }, 1000);
            }
            
            function simulateCompression(file, quality, format) {
                return new Promise((resolve) => {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const img = new Image();
                        img.onload = function() {
                            // Simulate size reduction based on quality
                            const originalSize = file.size;
                            const compressedSize = Math.max(1000, originalSize * (1 - quality * 0.8));
                            
                            // Create a mock compressed result
                            const result = {
                                dataUrl: e.target.result, // In real app, this would be the compressed data
                                size: compressedSize,
                                width: this.width,
                                height: this.height,
                                format: format === 'original' ? file.type.split('/')[1] : format
                            };
                            
                            resolve(result);
                        };
                        img.src = e.target.result;
                    };
                    reader.readAsDataURL(file);
                });
            }
            
            function displayResults(result) {
                // Display compressed image (in real app, this would be the actual compressed image)
                compressedImg.src = originalImg.src; // Simulated - would be result.dataUrl in real app
                
                // Update file sizes
                const originalSizeBytes = selectedFile.size;
                const compressedSizeBytes = result.size;
                
                originalSize.textContent = formatFileSize(originalSizeBytes);
                compressedSize.textContent = formatFileSize(compressedSizeBytes);
                
                // Update reduction percentage
                const reduction = ((originalSizeBytes - compressedSizeBytes) / originalSizeBytes * 100).toFixed(1);
                reductionPercent.textContent = `${reduction}%`;
                
                // Update dimensions
                compressedDimensions.textContent = `${result.width} × ${result.height}`;
                
                // Set download link
                downloadBtn.href = compressedImg.src;
                downloadBtn.download = `compressed_${selectedFile.name.split('.')[0]}.${result.format}`;
                
                // Show results
                resultsSection.style.display = 'block';
            }
            
            function formatFileSize(bytes) {
                if (bytes < 1024) return `${bytes} bytes`;
                else if (bytes < 1048576) return `${(bytes / 1024).toFixed(1)} KB`;
                else return `${(bytes / 1048576).toFixed(1)} MB`;
            }
            
            function resetTool() {
                selectedFile = null;
                compressedImageData = null;
                fileInput.value = '';
                fileName.style.display = 'none';
                fileName.textContent = '';
                originalImg.src = '';
                compressedImg.src = '';
                originalSize.textContent = '-';
                compressedSize.textContent = '-';
                reductionPercent.textContent = '-';
                originalDimensions.textContent = '-';
                compressedDimensions.textContent = '-';
                compressBtn.disabled = true;
                resetBtn.disabled = true;
                resultsSection.style.display = 'none';
                qualitySlider.value = 70;
                updateQualityValue();
            }
            
            // Initialize
            updateQualityValue();
        });
    </script>
</body>
</html>
